(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{114:function(e,t,n){},16:function(e,t,n){e.exports={orderHistory:"OrderHistory_orderHistory__2hPTP",list:"OrderHistory_list__H-i4I",profileList:"OrderHistory_profileList__3bboW OrderHistory_list__H-i4I",listItem:"OrderHistory_listItem__5Zn4r",link:"OrderHistory_link__1Emag",textBox:"OrderHistory_textBox__BQXOn",dataBox:"OrderHistory_dataBox__1XskK",ingrList:"OrderHistory_ingrList__1KK2O",ingItem:"OrderHistory_ingItem__2CK14",ingDigit:"OrderHistory_ingDigit__2RU3J",img:"OrderHistory_img__ELUq2",textContainer:"OrderHistory_textContainer__3-tSH",visible:"OrderHistory_visible__NK5Aa",hidden:"OrderHistory_hidden__15R44"}},17:function(e,t,n){e.exports={header:"AppHeader_header__366Sh",header__nav:"AppHeader_header__nav__2J_ye",header__list:"AppHeader_header__list__2KXuY",header__link:"AppHeader_header__link__3jQ4M",header__link_active:"AppHeader_header__link_active__uSDQG",header__linkText:"AppHeader_header__linkText__1kRNB",header__logo:"AppHeader_header__logo__YrIru"}},18:function(e,t,n){e.exports={App:"App_App__2NZLj",componentContainer:"App_componentContainer__3r7bB",centeredComponent:"App_centeredComponent__2a37d",logo:"App_logo__1_oR2"}},192:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(52),s=n.n(c),i=(n(114),n(5)),o=n(18),l=n.n(o),d=n(14),u=n(55),_=n(56),j=n.p+"static/media/loading.0f209bc7.svg",m="wss://norma.nomoreparties.space",b="https://norma.nomoreparties.space/api",x={calories:0,carbohydrates:0,fat:0,image:j,image_large:j,image_mobile:j,name:"\u041f\u0435\u0440\u0435\u0442\u044f\u043d\u0438\u0442\u0435 \u0431\u0443\u043b\u043e\u0447\u043a\u0443 \u0441\u044e\u0434\u0430",price:0,proteins:0,type:"bun",__v:0,_id:"0"},O={calories:0,carbohydrates:0,fat:0,image:j,image_large:j,image_mobile:j,name:"\u041a\u0430\u043a\u043e\u0439-\u0442\u043e \u0438\u043d\u0433\u0440\u0438\u0434\u0438\u0435\u043d\u0442",price:0,proteins:0,type:"main",__v:0,_id:"0"},g=new(function(){function e(t){var n=t.address;Object(u.a)(this,e),this.address=void 0,this.address=n}return Object(_.a)(e,[{key:"handleResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," - ").concat(e.statusText))}},{key:"getCardsData",value:function(){var e=this;return fetch("".concat(this.address,"/ingredients"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return e.handleResponse(t)}))}},{key:"sendOrder",value:function(e,t){var n=this;return fetch("".concat(this.address,"/orders"),{method:"POST",headers:{Authorization:t,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return n.handleResponse(e)}))}}]),e}())({address:b}),f="GET_BURGER_INGREDIENTS_REQUEST",h="GET_BURGER_INGREDIENTS_SUCCESS",p="GET_BURGER_INGREDIENTS_FAILED",y="GET_SELECTED_BUN",v="GET_SELECTED_INGREDIENT";var N=new(function(){function e(t){var n=t.address;Object(u.a)(this,e),this.address=void 0,this.address=n}return Object(_.a)(e,[{key:"handleResponse",value:function(e){if(403===e.status){console.log("403 Error");var t=localStorage.getItem("refreshToken");this.updateToken(t).then((function(e){console.log("updating tokens"),localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken)})).catch((function(){return Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," - ").concat(e.statusText))}))}else if(!e.ok)return Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status," - ").concat(e.statusText));return e.json()}},{key:"updateToken",value:function(e){var t=this;if(e)return fetch("".concat(this.address,"/auth/token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then((function(e){return t.handleResponse(e)}));console.log("refresh token is missing")}},{key:"register",value:function(e){var t=this;return fetch("".concat(this.address,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t.handleResponse(e)}))}},{key:"signIn",value:function(e){var t=this;return fetch("".concat(this.address,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t.handleResponse(e)}))}},{key:"signOut",value:function(e){var t=this;return fetch("".concat(this.address,"/auth/logout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}).then((function(e){return t.handleResponse(e)}))}},{key:"resetPassword",value:function(e){var t=this;return fetch("".concat(this.address,"/password-reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t.handleResponse(e)}))}},{key:"updatePassword",value:function(e){var t=this;return fetch("".concat(this.address,"/password-reset/reset"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return t.handleResponse(e)}))}},{key:"getUserInfo",value:function(e){var t=this;return fetch("".concat(this.address,"/auth/user"),{method:"GET",headers:{Authorization:e,"Content-Type":"application/json"}}).then((function(e){return t.handleResponse(e)}))}},{key:"setUserInfo",value:function(e,t){var n=this;return fetch("".concat(this.address,"/auth/user"),{method:"PATCH",headers:{Authorization:t,"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return n.handleResponse(e)}))}}]),e}())({address:b}),C="GET_CURRENT_USER_REQUEST",I="GET_CURRENT_USER_SUCCESS",S="GET_CURRENT_USER_FAILED",E="REGISTER_USER_REQUEST",k="REGISTER_USER_SUCCESS",R="REGISTER_USER_FAILED",T="LOGIN_USER_REQUEST",A="LOGIN_USER_SUCCESS",L="LOGIN_USER_FAILED",U="FORGOT_PASSWORD_REQUEST",B="FORGOT_PASSWORD_SUCCESS",D="FORGOT_PASSWORD_FAILED",F="RECOVER_PASSWORD_REQUEST",w="RECOVER_PASSWORD_SUCCESS",M="RECOVER_PASSWORD_FAILED",P="LOGOUT_USER_REQUEST",G="LOGOUT_USER_SUCCESS",H="LOGOUT_USER_FAILED";function W(){var e=localStorage.getItem("accessToken");return function(t){t({type:C}),N.getUserInfo(e).then((function(e){t({type:I,currentUser:e})})).catch((function(e){console.log(e),t({type:S}),"jwt expired"===e.message&&(console.log("token refresh started"),function(){var e=localStorage.getItem("refreshToken");localStorage.removeItem("accessToken"),N.updateToken(e).then((function(e){localStorage.setItem("accessToken",e.accessToken),console.log("token refresh success"),W()})).catch((function(e){console.log(e)}))}(),W())}))}}var q=n(199),z=n(108),J=n(2),Q=n(38),V=n.n(Q),Z=n(57),K=n(32),X=n(47),Y=X.c,$=function(){return Object(X.b)()},ee=n(0),te=["children","redirect"],ne=function(e){var t=e.children,n=e.redirect,a=Object(K.a)(e,te),c=Y((function(e){return e.currentSession.isCurrentUserAuth})),s=Y((function(e){return e.currentSession.isUserResetPassword})),i=Y((function(e){return e.currentSession.currentUserChecked})),o=$(),u=function(){var e=Object(Z.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("accessToken")&&o(W());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){u()}),[]),localStorage.getItem("accessToken")&&!i?Object(ee.jsx)("div",{className:"".concat(l.a.centeredComponent," text text_type_main-large"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):n?Object(ee.jsx)(d.b,Object(J.a)(Object(J.a)({},a),{},{render:function(){return s?t:Object(ee.jsx)(d.a,{to:"/forgot-password"})}})):Object(ee.jsx)(d.b,Object(J.a)(Object(J.a)({},a),{},{render:function(){return c?t:Object(ee.jsx)(d.a,{to:"/login"})}}))},ae=["children"],re=function(e){var t=e.children,n=Object(K.a)(e,ae),a=Y((function(e){return e.currentSession.isCurrentUserAuth})),c=$(),s=function(){var e=Object(Z.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("accessToken")&&c(W());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){s()}),[]),Object(ee.jsx)(d.b,Object(J.a)(Object(J.a)({},n),{},{render:function(){return a?Object(ee.jsx)(d.a,{to:"/"}):t}}))},ce=n(17),se=n.n(ce),ie=n(4),oe=n(9);var le=function(){var e=!!Object(d.j)({path:"/",exact:!0}),t=!!Object(d.j)("/feed"),n=!!Object(d.j)("/account");return Object(ee.jsx)("header",{className:"".concat(se.a.header," pb-4 pt-4"),children:Object(ee.jsxs)("nav",{className:se.a.header__nav,children:[Object(ee.jsxs)("ul",{className:se.a.header__list,children:[Object(ee.jsx)("li",{className:se.a.header__listItem,children:Object(ee.jsxs)(oe.c,{exact:!0,to:"/",className:se.a.header__link,activeClassName:se.a.header__link_active,children:[Object(ee.jsx)(ie.BurgerIcon,{type:e?"primary":"secondary"}),Object(ee.jsx)("p",{className:"".concat(se.a.header__linkText," ml-2"),children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(ee.jsx)("li",{className:"".concat(se.a.header__listItem," ml-2"),children:Object(ee.jsxs)(oe.c,{to:"/feed",className:se.a.header__link,activeClassName:se.a.header__link_active,children:[Object(ee.jsx)(ie.ListIcon,{type:t?"primary":"secondary"}),Object(ee.jsx)("p",{className:"".concat(se.a.header__linkText," ml-2"),children:"\u041b\u0435\u043d\u0442\u0430 \u0417\u0430\u043a\u0430\u0437\u043e\u0432"})]})})]}),Object(ee.jsx)("div",{className:se.a.header__logo,children:Object(ee.jsx)(oe.c,{exact:!0,to:"/",children:Object(ee.jsx)(ie.Logo,{})})}),Object(ee.jsxs)(oe.c,{to:"/account",className:se.a.header__link,activeClassName:se.a.header__link_active,children:[Object(ee.jsx)(ie.ProfileIcon,{type:n?"primary":"secondary"}),Object(ee.jsx)("p",{className:"".concat(se.a.header__linkText," ml-2"),children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u041a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},de=n(39),ue=n.n(de),_e=n(40),je=n.n(_e),me=n(201),be=function(e){var t=$(),n=Object(d.h)(),a=r.a.useState(0),c=Object(i.a)(a,2),s=c[0],o=c[1],l=r.a.useState(0),u=Object(i.a)(l,2),_=u[0],j=u[1],m=Y((function(e){return e.burgerConstructor.burgerConstructorArray})),b=Y((function(e){return e.burgerIngredients.selectedBun}));r.a.useEffect((function(){"bun"===e.card.type&&b._id===e.card._id?j(2):j(0);var t=m.filter((function(t){return t._id===e.card._id}));o(t.length)}),[m,b]);var x=Object(me.a)({type:"ingr",item:e.card}),O=Object(i.a)(x,2),g=O[0].isDrag,f=O[1];function h(n){t({type:v,selectedIngredient:n}),e.openModal()}return!e.card||g?null:Object(ee.jsxs)(oe.b,{to:{pathname:"/ingredient/".concat(e.card._id),state:{background:n}},className:"".concat(je.a.ingredient," ml-4 mr-4 mb-8"),onClick:function(){return h(e.card)},ref:f,children:[Object(ee.jsx)(ie.Counter,{count:"bun"!==e.card.type?s:_,size:"default"}),Object(ee.jsx)("img",{src:e.card.image,alt:e.card.name,className:"".concat(je.a.ingredient__image," ml-4 mr-4")}),Object(ee.jsxs)("div",{className:je.a.ingredient__priceBox,children:[Object(ee.jsx)("p",{className:"".concat(je.a.ingredient__price," text text_type_digits-default mb-1 mt-1"),children:e.card.price}),Object(ee.jsx)(ie.CurrencyIcon,{type:"primary"})]}),Object(ee.jsx)("p",{className:je.a.ingredient__text,children:e.card.name})]})},xe=function(e){var t=r.a.useRef(null),n=r.a.useRef(null),a=r.a.useRef(null),c=r.a.useRef(null),s=r.a.useState("buns"),o=Object(i.a)(s,2),l=o[0],d=o[1],u=e.openModal,_=Y((function(e){return e.burgerIngredients.burgerIngredientsArray}));function j(e){return _.filter((function(t){return t.type===e}))}var m=j("bun"),b=j("sauce"),x=j("main");var O=function(e){return Object(ee.jsx)(be,{card:e,openModal:u},e._id)};function g(e,t){null!==t&&(d(e),console.log(t),t.scrollIntoView({behavior:"smooth"}))}return Object(ee.jsxs)("section",{className:ue.a.ingredients,children:[Object(ee.jsx)("h1",{className:"text text_type_main-large mb-5 mt-10",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(ee.jsxs)("div",{style:{display:"flex"},children:[Object(ee.jsx)(ie.Tab,{value:"buns",active:"buns"===l,onClick:function(){return g("buns",n.current)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(ee.jsx)(ie.Tab,{value:"sauce",active:"sauce"===l,onClick:function(){return g("sauce",a.current)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(ee.jsx)(ie.Tab,{value:"main",active:"main"===l,onClick:function(){return g("main",c.current)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(ee.jsxs)("div",{className:ue.a.ingredients__menuContainer,ref:t,onScroll:function(){var e=t.current.offsetTop,r=n.current.getBoundingClientRect().top,s=a.current.getBoundingClientRect().top-150,i=c.current.getBoundingClientRect().top-150;e>=r&&e<=s?d("buns"):e>=s&&e<=i?d("sauce"):e>=i&&d("main")},children:[Object(ee.jsx)("h2",{className:"text text_type_main-medium mb-6 mt-10",ref:n,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(ee.jsx)("ul",{className:ue.a.ingredients__list,children:m.map((function(e){return O(e)}))}),Object(ee.jsx)("h2",{className:"text text_type_main-medium mb-6 mt-10",ref:a,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(ee.jsx)("ul",{className:ue.a.ingredients__list,children:b.map((function(e){return O(e)}))}),Object(ee.jsx)("h2",{className:"text text_type_main-medium mb-6 mt-10",ref:c,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(ee.jsx)("ul",{className:ue.a.ingredients__list,children:x.map((function(e){return O(e)}))})]})]})},Oe=n(202),ge=n(29),fe=n.n(ge),he=n(83),pe=n.n(he),ye=n(203),ve="GET_BURGER_CONSTRUCTOR_REQUEST",Ne="GET_BURGER_CONSTRUCTOR_SUCCESS",Ce="GET_BURGER_CONSTRUCTOR_FAILED",Ie="ADD_BURGER_CONSTRUCTOR_ITEM",Se="ADD_BUN_FAILED",Ee="MOVE_BURGER_CONSTRUCTOR_ITEM",ke="DELETE_BURGER_CONSTRUCTOR_ITEM",Re="RESET_BURGER_CONSTRUCTOR";var Te=function(e){var t=$(),n=r.a.useRef(null),a=e.card,c=Object(Oe.a)({accept:"draggedIngr",hover:function(a,r){var c;if(n.current){var s=a.index,i=e.index;if(s!==i){var o=null===(c=n.current)||void 0===c?void 0:c.getBoundingClientRect(),l=(o.bottom-o.top)/2,d=r.getClientOffset().y-o.top;s<i&&d<l||s>i&&d>l||(t(function(e,t){return{type:Ee,dragIndex:e,hoverIndex:t}}(s,i)),a.index=i)}}}}),s=Object(i.a)(c,2)[1],o=Object(me.a)({type:"draggedIngr",item:function(){return{card:e.card,index:e.index}},collect:function(e){return{isDragging:e.isDragging()}}}),l=Object(i.a)(o,2),d=l[0].isDragging?0:1;function u(e){t(function(e){return{type:ke,index:e}}(e))}return(0,l[1])(s(n)),Object(ee.jsxs)("li",{className:"".concat(pe.a.basketItem__listItem," mb-4 mr-2"),ref:n,style:{opacity:d},children:[Object(ee.jsx)("div",{className:pe.a.iconBox,children:Object(ee.jsx)(ie.DragIcon,{type:"primary"})}),Object(ee.jsx)(ie.ConstructorElement,{text:a.name,price:a.price,thumbnail:a.image,handleClose:function(){return u(e.index)}})]})},Ae=function(e){var t=$(),n=r.a.useState(0),a=Object(i.a)(n,2),c=a[0],s=a[1],o=r.a.useState(!0),l=Object(i.a)(o,2),u=(l[0],l[1]),_=Y((function(e){return e.burgerConstructor.burgerConstructorArray})),j=Y((function(e){return e.burgerIngredients.selectedBun})),m=Y((function(e){return e.currentSession.isCurrentUserAuth})),b=Object(d.g)(),x=_,O=j.price,f=Object(Oe.a)({accept:"ingr",drop:function(e){"bun"!==e.type?t(function(e){return"bun"===e.type?{type:Se}:{type:Ie,burgerConstructorArray:Object(J.a)(Object(J.a)({},e),{},{key:Object(ye.a)()})}}(e)):t({type:y,selectedBun:e})},collect:function(e){return{isHover:e.isOver()}}}),h=Object(i.a)(f,2),p=h[0].isHover,v=h[1];return r.a.useEffect((function(){x.length>0?s(function(e){if(0!==e.length){var t=e.map((function(e){return e.price}));return t.reduce((function(e,n){return t=e+n})),parseInt(t)}}(x)+2*O):s(2*O)}),[x,O]),r.a.useEffect((function(){"0"===j._id&&0===_.length?u(!0):u(!1)}),[j]),Object(ee.jsxs)("section",{className:"".concat(fe.a.basket," mt-25 "),ref:v,children:[Object(ee.jsxs)("ul",{className:p?fe.a.basket__list_modified:fe.a.basket__list,children:[Object(ee.jsx)("li",{className:"".concat(fe.a.basket__listItem," mr-4"),children:Object(ee.jsx)(ie.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(j.name," (\u0432\u0435\u0440\u0445)"),price:O,thumbnail:j.image})}),Object(ee.jsx)("span",{className:fe.a.basket__listContainer,children:0===_.length?"":_.map((function(e,t){return Object(ee.jsx)(Te,{card:e,index:t},e.key)}))}),Object(ee.jsx)("li",{className:"".concat(fe.a.basket__listItem," mr-4"),children:Object(ee.jsx)(ie.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(j.name," (\u043d\u0438\u0437)"),price:O,thumbnail:j.image})})]}),Object(ee.jsxs)("div",{className:"".concat(fe.a.basket__container," mt-10"),children:[Object(ee.jsxs)("div",{className:"".concat(fe.a.basket__totalContainer," mr-10"),children:[Object(ee.jsx)("p",{className:"text text_type_digits-medium mr-3",children:c}),Object(ee.jsx)(ie.CurrencyIcon,{type:"primary"})]}),Object(ee.jsx)(ie.Button,{type:"primary",size:"large",onClick:function(){var n;m?(t((n=function(e){var t=j._id,n=e.map((function(e){return e._id}));return n.push(t),{ingredients:n}}(_),function(e){e({type:ve});var t=localStorage.getItem("accessToken");g.sendOrder(n,t).then((function(t){e({type:Ne,orderData:t})})).catch((function(){e({type:Ce})})).finally((function(){e({type:Re,burgerConstructorArray:[]})}))})),e.openModal()):b.push("/login")},children:m?"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437":"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})]})},Le=n(21),Ue=n.n(Le),Be=n(35),De=n.n(Be);var Fe=function(){var e=Y((function(e){return e.currentSession.currentUser})),t=r.a.useState("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),n=Object(i.a)(t,2),a=n[0],c=n[1],s=r.a.useState("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),o=Object(i.a)(s,2),d=o[0],u=o[1],_=r.a.useState("*****"),j=Object(i.a)(_,2),m=j[0],b=j[1],x=r.a.useState(!0),O=Object(i.a)(x,2),g=O[0],f=O[1],h=r.a.useState(!0),p=Object(i.a)(h,2),y=p[0],v=p[1],C=r.a.useState(!0),I=Object(i.a)(C,2),S=I[0],E=I[1],k=r.a.useRef(null),R=r.a.useRef(null),T=r.a.useRef(null);function A(e,t){console.log(e),setTimeout((function(){return e.current.focus()}),0),t(!1)}function L(){null===e?(c("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),u("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")):(c(e.user.name),u(e.user.email)),f(!0),v(!0),E(!0)}return r.a.useEffect((function(){L()})),null===e?Object(ee.jsx)("div",{className:"".concat(l.a.centeredComponent," text text_type_main-large"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(ee.jsxs)("div",{className:De.a.profile,children:[Object(ee.jsxs)("ul",{className:De.a.profileList,children:[Object(ee.jsx)("li",{className:"".concat(De.a.profileListItem," mb-6"),children:Object(ee.jsx)(ie.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return c(e.target.value)},icon:"EditIcon",value:a,name:"Name",error:!1,ref:k,onIconClick:function(){return A(k,f)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:g})}),Object(ee.jsx)("li",{className:"".concat(De.a.profileListItem," mb-6"),children:Object(ee.jsx)(ie.Input,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:function(e){return u(e.target.value)},icon:"EditIcon",value:d,name:"name",error:!1,ref:R,onIconClick:function(){return A(R,v)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:y})}),Object(ee.jsx)("li",{className:"".concat(De.a.profileListItem," mb-6"),children:Object(ee.jsx)(ie.Input,{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:function(e){return b(e.target.value)},icon:"EditIcon",value:m,name:"name",error:!1,ref:T,onIconClick:function(){return A(T,E)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default",disabled:S})})]}),Object(ee.jsxs)("div",{className:De.a.buttonBox,children:[Object(ee.jsx)(ie.Button,{type:"secondary",size:"medium",onClick:function(){return L()},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(ee.jsx)(ie.Button,{type:"primary",size:"medium",onClick:function(){return function(){var e=localStorage.getItem("accessToken"),t={name:a,email:d};e&&N.setUserInfo(t,e).then((function(){return console.log("patch success")})).catch((function(e){return console.log(e)}))}()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},we=n(16),Me=n.n(we),Pe=n(200),Ge=n(198),He=n(204),We=function(e,t){var n=[];return e.ingredients.map((function(e){return t.forEach((function(t){t._id===e&&n.push(t)}))})),n},qe=function(e){var t=0,n=[];e.forEach((function(e){return n.push(e.price)}));for(var a=0;a<n.length;a++)t+=n[a];return t},ze=function(e){return Object(Ge.a)(e)?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f":Object(He.a)(e)?"\u0412\u0447\u0435\u0440\u0430":Object(Pe.a)(e,"MM.dd.yyyy")};function Je(e,t){return e.filter((function(e){return e._id===t}))[0]}var Qe=function(e){var t=r.a.useState("red"),n=Object(i.a)(t,2),a=n[0],c=n[1],s=r.a.useState("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"),o=Object(i.a)(s,2),l=o[0],u=o[1],_=r.a.useState("/account/order-history/"),j=Object(i.a)(_,2),m=j[0],b=j[1],x=Object(d.h)();r.a.useEffect((function(){"/feed"===x.pathname?b("/feed/"):b("/account/order-history/")}),[x]);var O=e.card,g=Y((function(e){return e.burgerIngredients.burgerIngredientsArray}));r.a.useEffect((function(){"done"===O.status?(c("#00CCCC"),u("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d")):"pending"===O.status?(c("ligntblue"),u("\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435")):(c("white"),u("\u0421\u043e\u0437\u0434\u0430\u043d"))}),[]);var f=Object(Pe.a)(new Date(O.createdAt),"hh:mm"),h=new Date(O.createdAt),p=ze(h),y=We(O,g),v=qe(y);return Object(ee.jsx)("li",{className:"".concat(Me.a.listItem," mb-6"),children:Object(ee.jsxs)(oe.b,{className:Me.a.link,onClick:e.openModal,to:{pathname:"".concat(m).concat(O._id),state:{background:x}},children:[Object(ee.jsxs)("div",{className:"".concat(Me.a.textBox," mb-6"),children:[Object(ee.jsx)("p",{className:"text text_type_digits-default",children:"#0".concat(O.number)}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"".concat(p,", \u0432 ").concat(f," i-GMT+3")})]}),Object(ee.jsx)("h2",{className:"text text_type_main-medium mb-2",children:O.name}),Object(ee.jsx)("p",{className:"".concat(e.feed?Me.a.visible:Me.a.hidden," text text_type_main-small mb-7"),style:{color:a},children:l}),Object(ee.jsxs)("div",{className:Me.a.dataBox,children:[Object(ee.jsxs)("ul",{className:Me.a.ingrList,children:[y.length>5?Object(ee.jsxs)("li",{className:Me.a.ingItem,children:[Object(ee.jsx)("img",{src:y[5].image,alt:y[5].name,className:Me.a.img}),Object(ee.jsx)("p",{className:"".concat(Me.a.ingDigit," text text_type_digits-default"),children:"+".concat(y.length-5)})]},5):null,y&&y.slice(0,4).map((function(e,t){return Object(ee.jsx)("li",{className:Me.a.ingItem,children:Object(ee.jsx)("img",{src:e.image,alt:O.name,className:Me.a.img})},t)}))]}),Object(ee.jsxs)("div",{className:Me.a.textContainer,children:[Object(ee.jsx)("p",{className:"text text_type_digits-default mr-2",children:v}),Object(ee.jsx)(ie.CurrencyIcon,{type:"primary"})]})]})]})})},Ve="WS_AUTH_CONNECTION_START",Ze="WS_AUTH_CONNECTION_SUCCESS",Ke="WS_AUTH_CONNECTION_ERROR",Xe="WS_AUTH_CONNECTION_CLOSED",Ye="WS_AUTH_GET_MESSAGE",$e=function(){return{type:Ve}},et=function(){return{type:Xe}},tt=function(e){var t=$();r.a.useEffect((function(){return t($e()),function(){return t(et())}}),[t]);var n=Y((function(e){return e.userOrderFeed})),a=Y((function(e){return e.burgerIngredients.burgerIngredientsArray}));return!0===n.isPageLoading||0===a.length?Object(ee.jsx)("div",{className:"".concat(l.a.centeredComponent," text text_type_main-large"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(ee.jsx)("div",{className:Me.a.orderHistory,children:Object(ee.jsx)("ul",{className:Me.a.profileList,children:n.orderFeedData.orders.map((function(t,n){return Object(ee.jsx)(Qe,{card:t,openModal:e.openModal,feed:!0,isAuth:!0},n)}))})})},nt="WS_CONNECTION_START",at="WS_CONNECTION_SUCCESS",rt="WS_CONNECTION_ERROR",ct="WS_CONNECTION_CLOSED",st="WS_GET_MESSAGE",it=function(){return{type:nt}},ot=function(){return{type:ct}},lt=function(e){var t=Object(d.g)(),n=Object(d.j)(),a=n.path,c=n.url,s=$();return r.a.useEffect((function(){return s(it()),function(){return s(ot())}}),[s]),Object(ee.jsxs)("div",{className:Ue.a.account,children:[Object(ee.jsxs)("nav",{className:Ue.a.nav,children:[Object(ee.jsxs)("ul",{className:"".concat(Ue.a.list," mb-20"),children:[Object(ee.jsx)("li",{className:Ue.a.listItem,children:Object(ee.jsx)(oe.c,{to:"".concat(c,"/profile"),className:"".concat(Ue.a.link," text text_type_main-medium text_color_inactive"),activeClassName:Ue.a.link_active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(ee.jsx)("li",{className:Ue.a.listItem,children:Object(ee.jsx)(oe.c,{to:"".concat(c,"/order-history"),className:"".concat(Ue.a.link," text text_type_main-medium text_color_inactive"),activeClassName:Ue.a.link_active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(ee.jsx)("li",{className:Ue.a.listItem,children:Object(ee.jsx)("button",{type:"button",className:"".concat(Ue.a.button," text text_type_main-medium text_color_inactive"),onClick:function(){s(et());var e=localStorage.getItem("refreshToken");s(function(e,t){return function(n){n({type:P}),N.signOut(e).then((function(){n({type:G}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),t()})).catch((function(e){console.log(e),n({type:H})}))}}(e,(function(){return t.push("/login")})))},children:"\u0412\u044b\u0445\u043e\u0434"})})]}),Object(ee.jsx)("p",{className:"".concat(Ue.a.text," text text_type_main-default"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),Object(ee.jsx)("div",{className:Ue.a.contentBox,children:Object(ee.jsxs)(d.d,{children:[Object(ee.jsx)(d.b,{path:"".concat(a,"/profile"),children:Object(ee.jsx)(Fe,{})}),Object(ee.jsx)(d.b,{path:"".concat(a,"/order-history"),children:Object(ee.jsx)(tt,{openModal:e.openModal})}),Object(ee.jsx)(d.a,{to:"".concat(c,"/profile")})]})})]})},dt=n(8),ut=n.n(dt);var _t=function(){var e=$(),t=Object(d.g)(),n=r.a.useState(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=r.a.useState(""),l=Object(i.a)(o,2),u=l[0],_=l[1],j=r.a.useRef(null);function m(n){n.preventDefault(),e(function(e,t){return function(n){n({type:T}),N.signIn(e).then((function(e){e&&e.success?(localStorage.setItem("accessToken",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),n({type:A,currentUser:e}),t()):n({type:L})})).catch((function(e){console.log(e),n({type:L})}))}}({email:c,password:u},(function(){return t.push("/")})))}return Object(ee.jsxs)("div",{className:ut.a.login,children:[Object(ee.jsx)("h2",{className:ut.a.heading,children:"\u0412\u0445\u043e\u0434"}),Object(ee.jsxs)("form",{className:"".concat(ut.a.form," mb-20"),onSubmit:function(e){return m(e)},children:[Object(ee.jsx)("fieldset",{className:"".concat(ut.a.fieldset," mb-6"),children:Object(ee.jsx)(ie.Input,{type:"text",placeholder:"Email",onChange:function(e){return s(e.target.value)},value:c,name:"name",error:!1,ref:j,onIconClick:function(){console.log("click")},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(ee.jsx)("fieldset",{className:"".concat(ut.a.fieldset," mb-6"),children:Object(ee.jsx)(ie.PasswordInput,{onChange:function(e){_(e.target.value)},value:u,name:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(ee.jsx)(ie.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]}),Object(ee.jsxs)("div",{className:ut.a.textContainer,children:[Object(ee.jsxs)("p",{className:"".concat(ut.a.text," text text_type_main-default text_color_inactive mb-4"),children:["\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"," ",Object(ee.jsx)(oe.b,{to:"/register",className:ut.a.link,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(ee.jsxs)("p",{className:"".concat(ut.a.text," text text_type_main-default text_color_inactive"),children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"," ",Object(ee.jsx)(oe.b,{to:"/forgot-password",className:ut.a.link,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})};var jt=function(){var e=$(),t=Object(d.g)(),n=r.a.useState(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=r.a.useState(""),l=Object(i.a)(o,2),u=l[0],_=l[1],j=r.a.useState(""),m=Object(i.a)(j,2),b=m[0],x=m[1],O=r.a.useRef(null),g=r.a.useRef(null),f=function(e){console.log(e)};function h(n){n.preventDefault(),e(function(e,t){return function(n){n({type:E}),N.register(e).then((function(){n({type:k}),t()})).catch((function(e){console.log(e),n({type:R})}))}}({name:c,email:u,password:b},(function(){return t.push("/login")})))}return Object(ee.jsxs)("div",{className:ut.a.login,children:[Object(ee.jsx)("h2",{className:ut.a.heading,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(ee.jsxs)("form",{className:"".concat(ut.a.form," mb-20"),onSubmit:function(e){return h(e)},children:[Object(ee.jsx)("fieldset",{className:"".concat(ut.a.fieldset," mb-6"),children:Object(ee.jsx)(ie.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:function(e){return s(e.target.value)},value:c,name:"name",error:!1,ref:O,onIconClick:function(){return f(O)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(ee.jsx)("fieldset",{className:"".concat(ut.a.fieldset," mb-6"),children:Object(ee.jsx)(ie.Input,{type:"text",placeholder:"Email",onChange:function(e){return _(e.target.value)},value:u,name:"name",error:!1,ref:g,onIconClick:function(){return f(g)},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(ee.jsx)("fieldset",{className:"".concat(ut.a.fieldset," mb-6"),children:Object(ee.jsx)(ie.PasswordInput,{onChange:function(e){x(e.target.value)},value:b,name:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(ee.jsx)(ie.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(ee.jsx)("div",{className:ut.a.textContainer,children:Object(ee.jsxs)("p",{className:"".concat(ut.a.text," text text_type_main-default text_color_inactive mb-4"),children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"," ",Object(ee.jsx)(oe.b,{to:"/login",className:ut.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})};var mt=function(){var e=$(),t=Object(d.g)(),n=r.a.useState(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=r.a.useRef(null);function l(n){n.preventDefault(),e(function(e,t){return function(n){n({type:U}),N.resetPassword(e).then((function(){n({type:B}),t()})).catch((function(e){console.log(e),n({type:D})}))}}({email:c},(function(){return t.push("/reset-password")})))}return Object(ee.jsxs)("div",{className:ut.a.login,children:[Object(ee.jsx)("h2",{className:ut.a.heading,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(ee.jsxs)("form",{className:"".concat(ut.a.form," mb-20"),onSubmit:function(e){return l(e)},children:[Object(ee.jsx)("fieldset",{className:"".concat(ut.a.fieldset," mb-6"),children:Object(ee.jsx)(ie.Input,{type:"text",placeholder:"Email",onChange:function(e){return s(e.target.value)},value:c,name:"name",error:!1,ref:o,onIconClick:function(){return e=o,void console.log(e);var e},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(ee.jsx)(ie.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]}),Object(ee.jsx)("div",{className:ut.a.textContainer,children:Object(ee.jsxs)("p",{className:"".concat(ut.a.text," text text_type_main-default text_color_inactive mb-4"),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"," ",Object(ee.jsx)(oe.b,{to:"/login",className:ut.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})};var bt=function(){var e=Object(d.g)(),t=$(),n=r.a.useState(""),a=Object(i.a)(n,2),c=a[0],s=a[1],o=r.a.useState(""),l=Object(i.a)(o,2),u=l[0],_=l[1],j=r.a.useRef(null);function m(n){n.preventDefault(),t(function(e,t){return function(n){n({type:F}),N.updatePassword(e).then((function(){n({type:w}),t()})).catch((function(e){console.log(e),n({type:M})}))}}({password:u,token:c},(function(){return e.push("/login")})))}return Object(ee.jsxs)("div",{className:ut.a.login,children:[Object(ee.jsx)("h2",{className:ut.a.heading,children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(ee.jsxs)("form",{className:"".concat(ut.a.form," mb-20"),onSubmit:function(e){return m(e)},children:[Object(ee.jsx)("fieldset",{className:"".concat(ut.a.fieldset," mb-6"),children:Object(ee.jsx)(ie.PasswordInput,{onChange:function(e){_(e.target.value)},value:u,name:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(ee.jsx)("fieldset",{className:"".concat(ut.a.fieldset," mb-6"),children:Object(ee.jsx)(ie.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:function(e){return s(e.target.value)},value:c,name:"name",error:!1,ref:j,onIconClick:function(){return e=j,void console.log(e);var e},errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(ee.jsx)(ie.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(ee.jsx)("div",{className:ut.a.textContainer,children:Object(ee.jsxs)("p",{className:"".concat(ut.a.text," text text_type_main-default text_color_inactive mb-4"),children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"," ",Object(ee.jsx)(oe.b,{to:"/login",className:ut.a.link,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})},xt=n(22),Ot=n.n(xt);var gt=function(){var e=r.a.useState(O),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(d.i)().id,s=Y((function(e){return e.burgerIngredients.burgerIngredientsArray}));return r.a.useEffect((function(){var e;s.forEach((function(t){t._id===c&&(e=t)})),a(e)}),[s,c]),Object(ee.jsxs)("div",{className:"".concat(Ot.a.contentBox),children:[Object(ee.jsx)("h2",{className:"".concat(Ot.a.title_modified," text text_type_main-large pl-10"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(ee.jsx)("div",{className:"".concat(Ot.a.imgContainer," mb-4"),children:Object(ee.jsx)("img",{src:n&&n.image,alt:"tick animation",className:Ot.a.ingImage})}),Object(ee.jsx)("p",{className:"text text_type_main-medium mb-8",children:n&&n.name}),Object(ee.jsxs)("ul",{className:Ot.a.statsList,children:[Object(ee.jsxs)("li",{className:Ot.a.statsListItem,children:[Object(ee.jsx)("p",{className:"".concat(Ot.a.category," text text_type_main-default text_color_inactive"),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n&&n.calories})]}),Object(ee.jsxs)("li",{className:Ot.a.statsListItem,children:[Object(ee.jsx)("p",{className:"".concat(Ot.a.category," text text_type_main-default text_color_inactive"),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n&&n.carbohydrates})]}),Object(ee.jsxs)("li",{className:Ot.a.statsListItem,children:[Object(ee.jsx)("p",{className:"".concat(Ot.a.category," text text_type_main-default text_color_inactive"),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n&&n.fat})]}),Object(ee.jsxs)("li",{className:Ot.a.statsListItem,children:[Object(ee.jsx)("p",{className:"".concat(Ot.a.category," text text_type_main-default text_color_inactive"),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:n&&n.proteins})]})]})]})},ft=n(27),ht=n.n(ft),pt=function(e){var t,n,a,c=$();r.a.useEffect((function(){return c(it()),function(){return c(ot())}}),[c]);var s=Y((function(e){return e.burgerIngredients.burgerIngredientsArray})),i=Y((function(e){return e.orderFeed}));return 0===s.length||!1===i.wsConnected||!0===i.isPageLoading?Object(ee.jsx)("div",{className:"".concat(l.a.centeredComponent," text text_type_main-large"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):(n=(t=i.orderFeedData.orders).filter((function(e){return"done"===e.status})).slice(0,5),a=t.filter((function(e){return"done"!==e.status})).slice(0,5),Object(ee.jsxs)("div",{className:ht.a.orderFeed,children:[Object(ee.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(ee.jsxs)("div",{className:ht.a.contentBox,children:[Object(ee.jsx)("ul",{className:ht.a.list,children:t.map((function(t){return Object(ee.jsx)(Qe,{card:t,feed:!1,openModal:e.openModal,isAuth:!1},t._id)}))}),Object(ee.jsxs)("div",{className:ht.a.ordersData,children:[Object(ee.jsxs)("div",{className:"".concat(ht.a.orderStatusBox," mb-15"),children:[Object(ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(ee.jsx)("ul",{className:ht.a.orderList,children:n&&n.map((function(e,t){return Object(ee.jsxs)("li",{className:"text text_type_digits-default mb-2",children:["0",e.number]},t)}))}),Object(ee.jsx)("ul",{className:ht.a.orderListReady,children:0===a.length?Object(ee.jsx)("li",{className:"text text_type_main-small",children:"\u0412\u0441\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u044b \u0433\u043e\u0442\u043e\u0432\u044b!"}):a&&a.map((function(e,t){return Object(ee.jsxs)("li",{className:"text text_type_digits-default mb-2",children:["0",e.number]},t)}))})]}),Object(ee.jsxs)("div",{className:"".concat(ht.a.numBox," mb-15"),children:[Object(ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(ee.jsx)("p",{className:"".concat(ht.a.number," text text_type_digits-large"),children:i.orderFeedData.total})]}),Object(ee.jsxs)("div",{className:ht.a.numBox,children:[Object(ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(ee.jsx)("p",{className:"".concat(ht.a.number," text text_type_digits-large"),children:i.orderFeedData.totalToday})]})]})]})]}))},yt=n(6),vt=n.n(yt),Nt=n(36),Ct=n.n(Nt),It=n.p+"static/media/astronaut.95c8b098.png";var St=function(){return Object(ee.jsxs)("div",{className:Ct.a.notFound,children:[Object(ee.jsx)("h1",{className:Ct.a.title,children:"404"}),Object(ee.jsx)("p",{className:Ct.a.text,children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 :("}),Object(ee.jsx)(oe.b,{to:"/",className:Ct.a.link,children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),Object(ee.jsx)("img",{src:It,alt:"astronaut",className:Ct.a.img}),Object(ee.jsx)("img",{src:j,alt:"loading",className:Ct.a.imgLoading})]})},Et=function(e){var t,n,a,c,s,o=Object(d.i)().id,u=r.a.useState("red"),_=Object(i.a)(u,2),j=_[0],m=_[1],b=r.a.useState("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d"),x=Object(i.a)(b,2),O=x[0],g=x[1],f=Object(d.h)(),h=Y((function(e){return e.currentSession.isCurrentUserAuth})),p=Y((function(e){return e.orderFeed})),y=Y((function(e){return e.userOrderFeed})),v=Y((function(e){return e.burgerIngredients.burgerIngredientsArray})),N=null;if(r.a.useEffect((function(){!function(e){if(!e)return;"done"===e.status?(m("#00CCCC"),g("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d")):"pending"===e.status?(m("ligntblue"),g("\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435")):(m("white"),g("\u0421\u043e\u0437\u0434\u0430\u043d"))}(N)}),[N]),!0===p.isPageLoading||0===v.length||!h&&!p.orderFeedData||h&&!y.orderFeedData)return Object(ee.jsx)("div",{className:"".concat(l.a.centeredComponent," text text_type_main-large"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});if((!h&&p&&p.orderFeedData||h&&y&&y.orderFeedData)&&(N=f.pathname==="/feed/".concat(o)?Je(p.orderFeedData.orders,o):Je(y.orderFeedData.orders,o)),void 0===N)return Object(ee.jsx)(St,{});t=Object(Pe.a)(new Date(N.createdAt),"hh:mm"),n=new Date(N.createdAt),a=ze(n),c=We(N,v),s=qe(c);var C=c.filter((function(e,t){return c.indexOf(e)===t})),I=function(e){var t={};return e&&e.ingredients.forEach((function(e){t[e]||(t[e]=0),t[e]++})),t}(N);return Object(ee.jsxs)("div",{className:"".concat(e.isModal?"".concat(vt.a.orderBox," p-10"):vt.a.pageBox),children:[Object(ee.jsxs)("p",{className:"text text_type_digits-default mb-10 mt-5",children:["#0",N.number||"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."]}),Object(ee.jsx)("h2",{className:"text text_type_main-medium mb-2",children:N.name||"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),Object(ee.jsx)("p",{className:"".concat(vt.a.statusText," text text_type_main-default mb-15"),style:{color:j},children:O}),Object(ee.jsx)("p",{className:"text text_type_main-medium mb-8",children:"C\u043e\u0441\u0442\u0430\u0432"}),Object(ee.jsx)("ul",{className:"".concat(vt.a.list),children:C&&C.map((function(e,t){return Object(ee.jsxs)("li",{className:"".concat(vt.a.listItem," mb-4"),children:[Object(ee.jsxs)("div",{className:"".concat(vt.a.imgBox),children:[Object(ee.jsx)("img",{src:e.image,alt:e.name,className:"".concat(vt.a.img," mr-4")}),Object(ee.jsx)("p",{className:"".concat(vt.a.ingrText," text text_type_main-default"),children:e.name})]}),Object(ee.jsxs)("div",{className:"".concat(vt.a.priceBox),children:[Object(ee.jsxs)("p",{className:"text text_type_digits-default mr-2",children:[I[e._id]>1?I[e._id]+" X ":"",e&&e.price]}),Object(ee.jsx)(ie.CurrencyIcon,{type:"primary"})]})]},t)}))}),Object(ee.jsxs)("div",{className:"".concat(vt.a.priceContainer," mt-10"),children:[Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"".concat(a,", \u0432 ").concat(t," i-GMT+3")||!1}),Object(ee.jsxs)("div",{className:"".concat(vt.a.priceBox),children:[Object(ee.jsx)("p",{className:"text text_type_digits-default mr-2",children:s||"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),Object(ee.jsx)(ie.CurrencyIcon,{type:"primary"})]})]})]})};var kt=function(){var e=$(),t=Y((function(e){return e.orderFeed})),n=Y((function(e){return e.currentSession.isCurrentUserAuth})),a=Y((function(e){return e.userOrderFeed})),c=Y((function(e){return e.burgerIngredients.burgerIngredientsArray}));return r.a.useEffect((function(){return n?(e($e()),function(){return e(et())}):(e(it()),function(){return e(ot())})}),[e,n]),!0===t.isPageLoading||0===c.length||void 0===a.orderFeedData||void 0===t.orderFeedData?Object(ee.jsx)("div",{className:"".concat(l.a.centeredComponent," text text_type_main-large"),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):Object(ee.jsx)(Et,{isModal:!1})},Rt=function(){var e=Y((function(e){return e.burgerIngredients.selectedIngredient}));return Object(ee.jsxs)("div",{className:"".concat(vt.a.modal__contentBox," pt-10 pb-15"),children:[Object(ee.jsx)("h2",{className:"".concat(vt.a.modal__title_modified," text text_type_main-large pl-10"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(ee.jsx)("div",{className:"".concat(vt.a.modal__imgContainer," mb-4"),children:Object(ee.jsx)("img",{src:e.image||"",alt:"tick animation",className:vt.a.modal__ingImage})}),Object(ee.jsx)("p",{className:"text text_type_main-medium mb-8",children:e.name||""}),Object(ee.jsxs)("ul",{className:vt.a.modal__statsList,children:[Object(ee.jsxs)("li",{className:vt.a.modal__statsListItem,children:[Object(ee.jsx)("p",{className:"".concat(vt.a.modal__category," text text_type_main-default text_color_inactive"),children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:e.calories||""})]}),Object(ee.jsxs)("li",{className:vt.a.modal__statsListItem,children:[Object(ee.jsx)("p",{className:"".concat(vt.a.modal__category," text text_type_main-default text_color_inactive"),children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:e.carbohydrates||""})]}),Object(ee.jsxs)("li",{className:vt.a.modal__statsListItem,children:[Object(ee.jsx)("p",{className:"".concat(vt.a.modal__category," text text_type_main-default text_color_inactive"),children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:e.fat||""})]}),Object(ee.jsxs)("li",{className:vt.a.modal__statsListItem,children:[Object(ee.jsx)("p",{className:"".concat(vt.a.modal__category," text text_type_main-default text_color_inactive"),children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:e.proteins||""})]})]})]})},Tt=n.p+"static/media/tick.887b83be.gif";var At,Lt,Ut=function(){var e=Y((function(e){return e.burgerConstructor.orderData}));return Object(ee.jsxs)("div",{className:"".concat(vt.a.modal__contentBox," pt-30 pb-30"),children:[Object(ee.jsx)("h2",{className:"".concat(vt.a.modal__title_shadow," text text_type_digits-large mb-8"),children:e.order.number}),Object(ee.jsx)("p",{className:"".concat(vt.a.modal__subtitle," text text_type_main-medium mb-15"),children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(ee.jsx)("div",{className:"".concat(vt.a.modal__imgContainer," mb-15"),children:Object(ee.jsx)("img",{src:Tt||j,alt:"tick animation",className:vt.a.modal__image})}),Object(ee.jsxs)("div",{className:vt.a.modal__textContainer,children:[Object(ee.jsx)("p",{className:"".concat(vt.a.modal__text," text text_type_main-small mb-2"),children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(ee.jsx)("p",{className:"".concat(vt.a.modal__text," text text_type_main-default text_color_inactive"),children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})]})},Bt=function(e){return Object(ee.jsx)("div",{className:vt.a.modal_overlay,onClick:e.closeModal,children:e.children})},Dt=function(e){return r.a.useEffect((function(){var t=function(t){"Escape"===t.key&&e.closeModal()};return window.addEventListener("keyup",t),function(){return window.removeEventListener("keyup",t)}}),[e.isOpen]),Object(ee.jsxs)("section",{className:e.isOpen?vt.a.modal_opened:vt.a.modal,children:[Object(ee.jsxs)("div",{className:vt.a.modal__container,children:[e.children,Object(ee.jsx)("button",{type:"button",className:vt.a.modal__close_modified,onClick:function(){return e.closeModal()},children:Object(ee.jsx)(ie.CloseIcon,{type:"primary"})})]}),Object(ee.jsx)(Bt,{closeModal:e.closeModal})]})},Ft=function(e){return Object(ee.jsxs)("div",{className:e.isOpen?vt.a.modal_opened:vt.a.modal,children:[Object(ee.jsx)("img",{src:j,className:vt.a.modal__loading,alt:"loading animation"}),Object(ee.jsx)(Bt,{closeModal:function(){return null}})]})},wt=function(){var e=r.a.useState(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],c=r.a.useState(!1),s=Object(i.a)(c,2),o=s[0],u=s[1],_=r.a.useState(!1),j=Object(i.a)(_,2),m=j[0],b=j[1],x=r.a.useState(!1),O=Object(i.a)(x,2),y=O[0],v=O[1],N=$(),C=Object(d.g)(),I=Object(d.h)(),S="PUSH"===C.action&&I.state&&I.state.background,E=Y((function(e){return e.burgerIngredients.isPageLoading})),k=Y((function(e){return e.burgerConstructor.isPageLoading})),R=Y((function(e){return e.currentSession.isAccountLoading})),T=Object(ee.jsx)(Rt,{}),A=Object(ee.jsx)(Ut,{}),L=Object(ee.jsx)(Et,{isModal:!0});return r.a.useEffect((function(){var e=localStorage.getItem("refreshToken");N((function(e){e({type:f}),g.getCardsData().then((function(t){console.log(t),t&&t.success?e({type:h,burgerIngredientsArray:t.data}):e({type:p})})).catch((function(t){console.log(t),e({type:p})}))})),e&&N(W())}),[N]),Object(ee.jsxs)("div",{className:l.a.App,children:[Object(ee.jsx)(le,{}),Object(ee.jsx)("main",{className:l.a.componentContainer,children:Object(ee.jsxs)(d.d,{location:S||I,children:[Object(ee.jsx)(d.b,{path:"/",exact:!0,children:Object(ee.jsxs)(q.a,{backend:z.a,children:[Object(ee.jsx)(xe,{openModal:function(){a(!0)}}),Object(ee.jsx)(Ae,{openModal:function(){u(!0)}})]})}),Object(ee.jsx)(d.b,{path:"/ingredient/:id",exact:!0,children:Object(ee.jsx)(gt,{})}),Object(ee.jsx)(re,{path:"/login",children:Object(ee.jsx)(_t,{})}),Object(ee.jsx)(re,{path:"/register",children:Object(ee.jsx)(jt,{})}),Object(ee.jsx)(re,{path:"/forgot-password",children:Object(ee.jsx)(mt,{})}),Object(ee.jsx)(ne,{path:"/reset-password",redirect:!0,children:Object(ee.jsx)(bt,{})}),Object(ee.jsx)(d.b,{path:"/feed",exact:!0,children:Object(ee.jsx)(pt,{openModal:function(){b(!0)}})}),Object(ee.jsx)(d.b,{path:"/feed/:id",exact:!0,children:Object(ee.jsx)(kt,{})}),Object(ee.jsx)(d.b,{path:"/account/order-history/:id",exact:!0,children:Object(ee.jsx)(kt,{})}),Object(ee.jsx)(ne,{path:"/account",redirect:!1,children:Object(ee.jsx)(lt,{openModal:function(){v(!0)}})}),Object(ee.jsx)(d.b,{children:Object(ee.jsx)(St,{})})]})}),S&&Object(ee.jsx)(d.b,{path:"/ingredient/:id",children:Object(ee.jsx)(Dt,{isOpen:n,closeModal:function(){a(!1)},children:T})}),Object(ee.jsx)(Dt,{isOpen:o,closeModal:function(){u(!1)},children:A}),S&&Object(ee.jsx)(d.b,{path:"/feed/:id",children:Object(ee.jsx)(Dt,{isOpen:m,closeModal:function(){b(!1)},children:L})}),S&&Object(ee.jsx)(d.b,{path:"/account/order-history/:id",children:Object(ee.jsx)(Dt,{isOpen:y,closeModal:function(){v(!1)},children:L})}),Object(ee.jsx)(Ft,{isOpen:E||k||R})]})},Mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,205)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},Pt=n(31),Gt=n(106),Ht=n(107),Wt={burgerIngredientsArray:[],burgerIngredientsRequest:!1,burgerIngredientsFailed:!1,selectedBun:x,selectedIngredient:O,isPageLoading:!0},qt=n(62),zt={burgerConstructorArray:[],burgerConstructorRequest:!1,burgerConstructorFailed:!1,orderData:{name:"DEFAULT_ORDER",order:{number:9999},success:!0},isPageLoading:!1},Jt={currentUser:{user:{email:"burger-lover@stellar-burgers.com",name:"\u041d\u043e\u0440\u043c\u0430"}},currentUserRequest:!1,currentUserFailed:!1,currentUserChecked:!1,registerRequest:!1,registerFailed:!1,loginRequest:!1,loginFailed:!1,logoutRequest:!1,logoutFailed:!1,isAccountLoading:!1,isCurrentUserAuth:!1,isUserResetPassword:!1},Qt={wsConnected:!1,wsError:null,orderFeedData:[],isPageLoading:!0},Vt={wsConnected:!1,wsError:null,orderFeedData:[],isPageLoading:!0},Zt=Object(Pt.combineReducers)({burgerIngredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(J.a)(Object(J.a)({},e),{},{burgerIngredientsRequest:!0});case h:return Object(J.a)(Object(J.a)({},e),{},{burgerIngredientsArray:t.burgerIngredientsArray,burgerIngredientsRequest:!1,burgerIngredientsFailed:!1,isPageLoading:!1});case p:return Object(J.a)(Object(J.a)({},e),{},{burgerIngredientsFailed:!0,burgerIngredientsRequest:!1});case y:return Object(J.a)(Object(J.a)({},e),{},{selectedBun:t.selectedBun});case v:return Object(J.a)(Object(J.a)({},e),{},{selectedIngredient:t.selectedIngredient});default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(J.a)(Object(J.a)({},e),{},{burgerConstructorRequest:!0,isPageLoading:!0});case Ne:return Object(J.a)(Object(J.a)({},e),{},{burgerConstructorRequest:!1,burgerConstructorFailed:!1,orderData:t.orderData,isPageLoading:!1});case Ce:return Object(J.a)(Object(J.a)({},e),{},{burgerConstructorRequest:!1,burgerConstructorFailed:!0,isPageLoading:!1});case Ie:return Object(J.a)(Object(J.a)({},e),{},{burgerConstructorArray:[].concat(Object(qt.a)(e.burgerConstructorArray),[t.burgerConstructorArray])});case Se:return e;case Ee:var n=Object(qt.a)(e.burgerConstructorArray),a=n[t.dragIndex],r=n[t.hoverIndex];return n[t.hoverIndex]=a,n[t.dragIndex]=r,Object(J.a)(Object(J.a)({},e),{},{burgerConstructorArray:n});case ke:return Object(J.a)(Object(J.a)({},e),{},{burgerConstructorArray:Object(qt.a)(e.burgerConstructorArray).filter((function(e,n){return n!==t.index}))});case Re:return Object(J.a)(Object(J.a)({},e),{},{burgerConstructorArray:t.burgerConstructorArray});default:return e}},currentSession:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(J.a)(Object(J.a)({},e),{},{currentUserRequest:!0,isAccountLoading:!0,currentUserChecked:!1});case I:return Object(J.a)(Object(J.a)({},e),{},{currentUserRequest:!1,currentUserFailed:!1,currentUser:t.currentUser,isCurrentUserAuth:!0,isAccountLoading:!1,currentUserChecked:!0});case S:return Object(J.a)(Object(J.a)({},e),{},{currentUserRequest:!1,currentUserFailed:!0,isAccountLoading:!1,currentUserChecked:!0});case E:return Object(J.a)(Object(J.a)({},e),{},{registerRequest:!0,isAccountLoading:!0,currentUserChecked:!1});case k:return Object(J.a)(Object(J.a)({},e),{},{registerRequest:!1,registerFailed:!1,isAccountLoading:!1});case R:return Object(J.a)(Object(J.a)({},e),{},{registerRequest:!1,registerFailed:!0});case T:return Object(J.a)(Object(J.a)({},e),{},{loginRequest:!0,isAccountLoading:!0});case A:return Object(J.a)(Object(J.a)({},e),{},{loginRequest:!1,loginFailed:!1,currentUser:t.currentUser,isUserResetPassword:!1,isCurrentUserAuth:!0,isAccountLoading:!1});case L:return Object(J.a)(Object(J.a)({},e),{},{loginRequest:!1,loginFailed:!0,isCurrentUserAuth:!1,isAccountLoading:!1});case P:return Object(J.a)(Object(J.a)({},e),{},{logoutRequest:!0,isAccountLoading:!0});case G:return Object(J.a)(Object(J.a)({},e),{},{logoutRequest:!1,logoutFailed:!1,isCurrentUserAuth:!1,isAccountLoading:!1});case H:return Object(J.a)(Object(J.a)({},e),{},{logoutRequest:!1,logoutFailed:!0,isAccountLoading:!1});case U:return Object(J.a)(Object(J.a)({},e),{},{isUserResetPassword:!0,isAccountLoading:!0});case B:return Object(J.a)(Object(J.a)({},e),{},{isUserResetPassword:!0,isAccountLoading:!1});case D:return Object(J.a)(Object(J.a)({},e),{},{isAccountLoading:!1});case F:return Object(J.a)(Object(J.a)({},e),{},{isAccountLoading:!0});case w:return Object(J.a)(Object(J.a)({},e),{},{isUserResetPassword:!1,isAccountLoading:!1});case M:return Object(J.a)(Object(J.a)({},e),{},{isAccountLoading:!1});default:return e}},orderFeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return{isPageLoading:!0};case at:return Object(J.a)(Object(J.a)({},e),{},{wsError:null,wsConnected:!0});case rt:return console.log(t.payload),Object(J.a)(Object(J.a)({},e),{},{wsError:t.payload,wsConnected:!1});case ct:return Object(J.a)(Object(J.a)({},e),{},{wsError:null,wsConnected:!1});case st:return Object(J.a)(Object(J.a)({},e),{},{wsError:null,orderFeedData:t.payload,isPageLoading:!1});default:return e}},userOrderFeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return{isPageLoading:!0};case Ze:return Object(J.a)(Object(J.a)({},e),{},{wsError:null,wsConnected:!0});case Ke:return console.log(t.payload),Object(J.a)(Object(J.a)({},e),{},{wsError:t.payload,wsConnected:!1});case Xe:return Object(J.a)(Object(J.a)({},e),{},{wsError:null,wsConnected:!1});case Ye:return Object(J.a)(Object(J.a)({},e),{},{wsError:null,orderFeedData:t.payload,isPageLoading:!1});default:return e}}}),Kt=["success"],Xt=["success"],Yt=Object(Pt.createStore)(Zt,Object(Gt.composeWithDevTools)(Object(Pt.applyMiddleware)((Lt="".concat(m,"/orders/all"),function(e){var t=null;return function(n){return function(a){var r=e.dispatch,c=a.type,s=a.payload;if(c===nt&&(t=new WebSocket("".concat(Lt))),t&&(t.onopen=function(e){r({type:at,payload:e})},t.onerror=function(e){r({type:rt,payload:e})},t.onmessage=function(e){var t=e.data,n=JSON.parse(t),a=(n.success,Object(K.a)(n,Kt));r({type:st,payload:a})},t.onclose=function(e){r({type:ct,payload:e})},"WS_SEND_MESSAGE"===c)){var i=Object(J.a)({},s);t.send(JSON.stringify(i))}n(a)}}}),(At="".concat(m,"/orders"),function(e){var t=null;return function(n){return function(a){var r=e.dispatch,c=a.type,s=a.payload;if(c===Ve){var i=localStorage.getItem("accessToken").replace("Bearer ","");t=new WebSocket("".concat(At,"?token=").concat(i))}if(t&&(t.onopen=function(e){r({type:Ze,payload:e})},t.onerror=function(e){r({type:Ke,payload:e})},t.onmessage=function(e){var t=e.data,n=JSON.parse(t),a=(n.success,Object(K.a)(n,Xt));r({type:Ye,payload:a})},t.onclose=function(e){r({type:Xe,payload:e})},"WS_AUTH_SEND_MESSAGE"===c)){var o=Object(J.a)({},s);t.send(JSON.stringify(o))}n(a)}}}),Ht.a)));s.a.render(Object(ee.jsx)(r.a.StrictMode,{children:Object(ee.jsx)(oe.a,{children:Object(ee.jsx)(X.a,{store:Yt,children:Object(ee.jsx)(wt,{})})})}),document.getElementById("root")),Mt()},21:function(e,t,n){e.exports={account:"Account_account__2U-MY",nav:"Account_nav__2har8",contentBox:"Account_contentBox__1y3Vs",list:"Account_list__3QiF_",listItem:"Account_listItem__25wG7",link:"Account_link__1_a97",link_active:"Account_link_active__xkQy4",button:"Account_button__1QO24",text:"Account_text__2pVgU",profile:"Account_profile__17xTJ"}},22:function(e,t,n){e.exports={contentBox:"IngredientDetailsPage_contentBox__-At9O",title:"IngredientDetailsPage_title__1ls7i",title_shadow:"IngredientDetailsPage_title_shadow__1Z99R IngredientDetailsPage_title__1ls7i",title_modified:"IngredientDetailsPage_title_modified__1gxia IngredientDetailsPage_title__1ls7i",image:"IngredientDetailsPage_image__10Jbh",ingImage:"IngredientDetailsPage_ingImage__2r0X0",textContainer:"IngredientDetailsPage_textContainer__2SNjr",statsList:"IngredientDetailsPage_statsList__ewfMD",statsListItem:"IngredientDetailsPage_statsListItem__E2csI"}},27:function(e,t,n){e.exports={orderFeed:"OrderFeed_orderFeed__3b_yZ",contentBox:"OrderFeed_contentBox__2246m",list:"OrderFeed_list__O7_pr",ordersData:"OrderFeed_ordersData__S1zvW",orderStatusBox:"OrderFeed_orderStatusBox__1xEe1",orderList:"OrderFeed_orderList__1rfUU",orderListReady:"OrderFeed_orderListReady__3O1nd OrderFeed_orderList__1rfUU",number:"OrderFeed_number__3Fdu1"}},29:function(e,t,n){e.exports={basket:"BurgerConstructor_basket__3I_vO",basket__list:"BurgerConstructor_basket__list__L94FO",basket__list_modified:"BurgerConstructor_basket__list_modified__1OyK_ BurgerConstructor_basket__list__L94FO",basket__listItem:"BurgerConstructor_basket__listItem__3Gse5","constructor-element__text":"BurgerConstructor_constructor-element__text__3lEoy",basket__listContainer:"BurgerConstructor_basket__listContainer__1ZOr2",listItem:"BurgerConstructor_listItem__3l9-B",basket__container:"BurgerConstructor_basket__container__deIFk",basket__totalContainer:"BurgerConstructor_basket__totalContainer__3ac6A"}},35:function(e,t,n){e.exports={profile:"Profile_profile__HdcQe",profileList:"Profile_profileList__QHa0F",profileListItem:"Profile_profileListItem__aNjNP",buttonBox:"Profile_buttonBox__1717I"}},36:function(e,t,n){e.exports={notFound:"NotFound_notFound__VL6Sd",title:"NotFound_title__1bVC4",text:"NotFound_text__3hN8E",link:"NotFound_link__rh8I0",img:"NotFound_img__2SYiW",imgLoading:"NotFound_imgLoading__1wanW"}},39:function(e,t,n){e.exports={ingredients:"BurgerIngredients_ingredients__227KB",ingredients__menuContainer:"BurgerIngredients_ingredients__menuContainer__gtb0t",ingredients__list:"BurgerIngredients_ingredients__list__b1Mcz",ingredients__basketList:"BurgerIngredients_ingredients__basketList__2FWCl"}},40:function(e,t,n){e.exports={ingredient:"BurgerIngredient_ingredient__3DZvP",ingredient__image:"BurgerIngredient_ingredient__image__327UN",ingredient__priceBox:"BurgerIngredient_ingredient__priceBox__3OwcV",ingredient__price:"BurgerIngredient_ingredient__price__2sL1y",ingredient__text:"BurgerIngredient_ingredient__text__2ZWzZ"}},6:function(e,t,n){e.exports={modal:"Modal_modal__mDZ2B",modal_opened:"Modal_modal_opened__2oaeh Modal_modal__mDZ2B",modal_overlay:"Modal_modal_overlay__2W_vi",modal__loading:"Modal_modal__loading__3fd3b",modal__container:"Modal_modal__container__1-g3S",modal__contentBox:"Modal_modal__contentBox__3Vzc_",modal__title:"Modal_modal__title__3cfzx",modal__title_shadow:"Modal_modal__title_shadow__meMnv Modal_modal__title__3cfzx",modal__title_modified:"Modal_modal__title_modified__3GmLv Modal_modal__title__3cfzx",modal__image:"Modal_modal__image__1IXAr",modal__ingImage:"Modal_modal__ingImage__1KZff",modal__textContainer:"Modal_modal__textContainer__kjDSl",modal__statsList:"Modal_modal__statsList__2CYKv",modal__statsListItem:"Modal_modal__statsListItem__N3-T-",modal__close:"Modal_modal__close__2bOjO",orderBox:"Modal_orderBox__lIteW Modal_modal__contentBox__3Vzc_",pageBox:"Modal_pageBox__3ZL9N",list:"Modal_list__1Ioy1",listItem:"Modal_listItem__2qGn0",imgBox:"Modal_imgBox__1pWdr",img:"Modal_img__2cgAT",priceBox:"Modal_priceBox__2rXXe",priceContainer:"Modal_priceContainer__1h9r_ Modal_priceBox__2rXXe",modal__close_modified:"Modal_modal__close_modified__2D-Gg Modal_modal__close__2bOjO",modal__tooltip:"Modal_modal__tooltip__WxtMs"}},8:function(e,t,n){e.exports={login:"Auth_login__7zL7F",form:"Auth_form__1CGbD",fieldset:"Auth_fieldset__1rbsq",link:"Auth_link__22eIS"}},83:function(e,t,n){e.exports={basketItem__listItem:"BasketItem_basketItem__listItem__1cWEV",iconBox:"BasketItem_iconBox__2WeFk"}}},[[192,1,2]]]);
//# sourceMappingURL=main.9b8f9b08.chunk.js.map